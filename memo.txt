同期ファイル==ソケットであることに気づいた
ソケットを拡張して同期ファイルをつくっていけないか

ファイルへの書き込みがローカルストレージに書き込まれると同時に、ソケットの送信バッファに加えられる。
一つのファイルへの書き込みが完了しているか否かはファイルへ付属した追加メタファイルで管理される。
ファイルシステムは書き込みが完了していないファイルを記憶している

もし、現在送信中の書き込みスパンに新たに書き込みが加わると？
書き込みを送信しているときに、そのスパンが変更されてしまう
しかし、あまり書き込みバッファをメモリに滞留させたくない。
代替ファイルにバッファを保存する

ソケットをクライアントごとに２つ作るのが難しい

ホームページ
既存のサーバーにwordpressを追加
git doxygen redmineとかも

class sync_file
string storage_file
string diff_file
fstream storage_file
fstream diff_file
add_diff
cat_diff
pull_diff
